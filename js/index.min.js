function getUserData(){var e=JSON.parse(localStorage.getItem("user"));e?(e="Welcome, "+e.fullname+"!",$("#login-btn").hide(),$("#welcome-msg").html(e)):($("#login").show(),$("#logout").hide())}function getAllMovies(){let o=[];for(let l=1;l<=5;l++)$.ajax("http://www.omdbapi.com/?apikey=7c3e8abb&s=all&type=movie&page="+l,{success:function(e){if(o=o.concat(e.Search),5===l){for(let e=o.length-1;0<e;e--){var t=Math.floor(Math.random()*(e+1));[o[e],o[t]]=[o[t],o[e]]}e=o.slice(0,50);let l="";$.each(e,function(e,t){l+=`
                <div class="lg:w-1/4 md:w-1/2 p-4 w-full">
                  <a class="block relative rounded overflow-hidden" onclick="movieSelected('${t.imdbID}')">
                    <img
                      alt="ecommerce"
                      class="object-cover w-full h-[500px] block cursor-pointer"
                      src="${t.Poster}"
                    />
                  </a>
                  <div class="mt-4">
                    <h3 class="text-gray-500 text-xs tracking-widest title-font mb-1">
                      ${t.Type}
                    </h3>
                    <h2 class="text-gray-100 title-font text-lg font-medium">
                    ${t.Title}
                    </h2>
                    <p class="mt-1 text-gray-400">${t.Year}</p>
                  </div>
                </div>
              `}),$("#allMovies").html(l)}}})}function getMovies(e){$.get("http://www.omdbapi.com/?apikey=7c3e8abb&s="+e,function(e,t,l){console.log(e);e=e.Search;let o="";$.each(e,(e,t)=>{o+=`
          <div class="lg:w-1/4 md:w-1/2 p-4 w-full">
            <a class="block relative rounded overflow-hidden" onclick="movieSelected('${t.imdbID}')">
              <img
                alt="ecommerce"
                class="object-cover w-full h-[500px] block cursor-pointer"
                src="${t.Poster}"
              />
            </a>
            <div class="mt-4">
              <h3 class="text-gray-500 text-xs tracking-widest title-font mb-1">
                ${t.Type}
              </h3>
              <h2 class="text-gray-100 title-font text-lg font-medium">
              ${t.Title}
              </h2>
              <p class="mt-1 text-gray-400">${t.Year}</p>
            </div>
          </div>
          `}),$("#movies").html(o)})}function navigateToPage(e){window.location=e+".html"}$(document).ready(()=>{getAllMovies(),$("#header").load("header.html",()=>{getUserData()}),$("#footer").load("footer.html"),$("#swiper").load("slider.html"),$("#searchForm").on("submit",e=>{getMovies($("#searchText").val()),e.preventDefault()})});